<body>
  <div class="container">
    <!-- Form Starts -->
    <form (ngSubmit)="onSave()" #userForm="ngForm">
      
      <!-- Form Title -->
      <div class="mb-3">
        <label for="title" class="form-label fw-bold">Form Title</label>
        <input
          type="text"
          id="title"
          name="title"
          class="form-control"
          [(ngModel)]="title"
          required
          minlength="2"
          placeholder="Enter form title"
        />
        <div *ngIf="!title || title.length < 2" class="text-danger mt-1">
          Title is required at least one word.
        </div>
      </div>

      <!-- Dynamic Fields -->
      <div class="mb-3" *ngFor="let field of additionalFields; let i = index">
        <div class="row">
          <!-- Field Name Input -->
          <div class="col-md-6">
            <label class="form-label fw-bold">Field Name {{ i + 1 }}</label>
            <input
              type="text"
              [(ngModel)]="field.value"
              [name]="'value_' + i"
              class="form-control"
              placeholder="Enter additional field value"
              required
            />
            <div *ngIf="!field.value" class="text-danger mt-1">
              This field is required!
            </div>
          </div>
          

          <!-- Input Type Dropdown -->
          <div class=" col-md-3">
            <label class="form-label fw-bold">Type</label>
            <select
              [(ngModel)]="field.inputType"
              [name]="'inputType_' + i"
              class="form-select"
              required
            >
              <option value="text">Text</option>
              <option value="number">Number</option>
              <option value="email">Email</option>
              <option value="password">Password</option>
            </select>
            <div *ngIf="!field.inputType" class="text-danger mt-1">
              Please select a field type!
            </div>
          </div>
          <div class="col-md-3 d-flex align-items-center">
          <button
        type="button"
        class="btn btn-danger "
        (click)="deleteField(i)"
      >
        Delete Field
      </button>
      </div>
        </div>
      </div>

      <!-- Add Field Button -->
      <!-- Add Field and Save Buttons in a single line -->
<div class="d-flex justify-content-center my-3">
  <button type="button" class="btn btn-primary" (click)="addField()">
    Add Field
  </button>

  <button
    type="submit"
    class="btn btn-success ms-3"
    [disabled]="!title || userForm.invalid"
  >
    Save Form
  </button>
</div>

    </form>

    <!-- Form Link Section -->
    <div *ngIf="formLink" class="mt-3">
      <p>Form Link:</p>
      <a [href]="formLink">{{ formLink }}</a>
    </div>
  </div>
</body>
